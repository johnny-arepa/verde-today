(this["webpackJsonpverde-today"]=this["webpackJsonpverde-today"]||[]).push([[0],[,,,,,,,function(e,t,a){e.exports=a.p+"static/media/refresh-icon.c0df966c.svg"},function(e,t,a){e.exports=a(17)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(6),c=a.n(o),l=(a(13),a(1)),s=a(2),i=a(4),d=a(3);a(14),a(15);function u(){return r.a.createElement("div",{className:"Spinner"},r.a.createElement("div",{className:"lds-ring"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))}a(16);var m=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).handleFocus=function(e){e.target.select()},e.handleChange=function(t){+t.target.value<=1e7&&+t.target.value+ +e.state.input>0&&e.setState({input:t.target.value},(function(){e.props.changeFactor(e.state.input)}))},e.handleBlur=function(t){var a=t.target.value;a<=0&&(a=1),e.setState({input:+a},(function(){return e.props.changeFactor(e.state.input)}))},e.handleClick=function(t){+e.state.input+t>=1&&+e.state.input+t<=1e7&&e.setState((function(e){return{input:Math.floor(+e.input)+t}}),(function(){return e.props.changeFactor(e.state.input)}))},e.state={input:"1"},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"Calculator"},r.a.createElement("label",{htmlFor:"amount"},"Cantidad:"),r.a.createElement("input",{onBlur:this.handleBlur,onFocus:this.handleFocus,onChange:this.handleChange,type:"number",name:"amount",id:"amount",value:this.state.input,min:"1",max:"100000"}),r.a.createElement("button",{onClick:function(){return e.handleClick(-1)},className:"btn"},"\u2212"),r.a.createElement("button",{onClick:function(){return e.handleClick(1)},className:"btn"},"+"))}}]),a}(n.Component),h=a(7),v=a.n(h),f=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).updateRates=function(){var t={};e.setState({isLoaded:!1}),fetch("https://s3.amazonaws.com/dolartoday/data.json").then((function(e){return e.json()})).then((function(a){t={timestamp:a._timestamp.fecha,dol:{dolartoday:a.USD.dolartoday,bcv:a.USD.sicad2,idv:0},eur:{dolartoday:a.EUR.dolartoday,bcv:a.EUR.sicad2,idv:0}},localStorage.setItem("dolartoday",JSON.stringify(t)),e.setState({dolartoday:t,upToDate:!0,isLoaded:!0})})).catch((function(a){JSON.parse(window.localStorage.getItem("dolartoday"))&&(t=JSON.parse(window.localStorage.getItem("dolartoday")),e.setState({dolartoday:t,upToDate:!1,isLoaded:!0})),console.log("ERROR: ",a.message)}))},e.handleClick=function(){e.updateRates()},e.formatCur=function(e,t){return e.toLocaleString(t,{minimumFractionDigits:2,maximumFractionDigits:2})},e.changeFactor=function(t){e.setState({factor:+t})},e.state={fetchInterval:null,isLoaded:!1,upToDate:!1,dolartoday:{timestamp:null,dol:{dolartoday:0,bcv:0,idv:0},eur:{dolartoday:0,bcv:0,idv:0}},factor:1},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(JSON.parse(window.localStorage.getItem("dolartoday"))){var t=JSON.parse(window.localStorage.getItem("dolartoday"));this.setState({dolartoday:t,upToDate:!1,isLoaded:!0})}this.updateRates(),this.setState({fetchInterval:setInterval((function(){e.updateRates()}),3e5)})}},{key:"componentWillUnmount",value:function(){this.fetchInterval=null}},{key:"render",value:function(){var e=this.state.dolartoday.timestamp,t=this.state.upToDate,a=this.state.factor,n=this.formatCur(a,"us-US"),o=this.formatCur(a,"de-DE"),c=this.formatCur(+this.state.dolartoday.dol.dolartoday*a,"de-DE"),l=this.formatCur(+this.state.dolartoday.eur.dolartoday*a,"de-DE"),s=this.formatCur(+this.state.dolartoday.dol.bcv*a,"de-DE"),i=this.formatCur(+this.state.dolartoday.eur.bcv*a,"de-DE");return r.a.createElement("div",{className:"App"},!this.state.isLoaded&&r.a.createElement(u,null),r.a.createElement("header",{className:"App-header"},r.a.createElement("div",{className:"container-header"},r.a.createElement("h1",null," +++ Verde Today +++",r.a.createElement("span",{className:"speed"})),r.a.createElement("p",{className:t?"online":"offline"},e," "),r.a.createElement("button",{onClick:this.handleClick,className:"refresh"},r.a.createElement("img",{src:v.a,alt:"refresh"})))),r.a.createElement("main",{className:"App-main"},r.a.createElement("section",{className:"section section-dollar"},r.a.createElement("div",{className:"rate-source"},"Dolartoday"),r.a.createElement("div",{className:"rates"},r.a.createElement("div",{className:"rates-container dolartoday ".concat(this.state.upToDate?" updated":""," ")},r.a.createElement("div",{className:"rate foreign"},n,"\xa0$\xa0="),r.a.createElement("div",{className:"rate bolivar"},c,r.a.createElement("span",{className:"bss"},"\xa0Bs"))),r.a.createElement("div",{className:"rates-container"},r.a.createElement("div",{className:"rate foreign"},o,"\xa0\u20ac\xa0="),r.a.createElement("div",{className:"rate bolivar"},l,r.a.createElement("span",{className:"bss"},"\xa0Bs"))))),r.a.createElement("section",{className:"section section-euro"},r.a.createElement("div",{className:"rate-source"},"BCV"),r.a.createElement("div",{className:"rates"},r.a.createElement("div",{className:"rates-container"},r.a.createElement("div",{className:"rate foreign"},n,"\xa0$\xa0="),r.a.createElement("div",{className:"rate bolivar"},s,r.a.createElement("span",{className:"bss"},"\xa0Bs"))),r.a.createElement("div",{className:"rates-container"},r.a.createElement("div",{className:"rate foreign"},o,"\xa0\u20ac\xa0="),r.a.createElement("div",{className:"rate bolivar"},i,r.a.createElement("span",{className:"bss"},"\xa0Bs"))))),r.a.createElement(m,{changeFactor:this.changeFactor}),r.a.createElement("ul",{className:"links"},r.a.createElement("li",null,r.a.createElement("a",{href:"https://bit.ly/venezuela911",rel:"noopener noreferrer",target:"_blank"},"www.dolartoday.com")),r.a.createElement("li",null,r.a.createElement("a",{href:"https://monitordolarvenezuela.com/",rel:"noopener noreferrer",target:"_blank"},"www.monitordolarvenezuela.com")),r.a.createElement("li",null,r.a.createElement("a",{href:"http://www.bcv.org.ve/",rel:"noopener noreferrer",target:"_blank"},"www.bcv.org.ve")))))}}]),a}(n.Component),p=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function g(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(r.a.createElement(f,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/verde-today",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/verde-today","/service-worker.js");p?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):g(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):g(t,e)}))}}()}],[[8,1,2]]]);
//# sourceMappingURL=main.e9fd5719.chunk.js.map